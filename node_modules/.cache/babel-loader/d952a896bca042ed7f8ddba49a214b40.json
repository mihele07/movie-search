{"ast":null,"code":"import _objectSpread from\"/Users/mihele/udemy/react-projects/movie-reviews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mihele/udemy/react-projects/movie-reviews/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import SearchComponent from'./components/SearchComponent';import ResultsComponent from'./components/ResultsComponent';import PopupComponent from'./components/PopupComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({s:\"\",results:[],selected:{}}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var apiurl=\"http://www.omdbapi.com/?apikey=dfe6d885\";var search=function search(e){if(e.key===\"Enter\"){axios(apiurl+\"&s=\"+state.s).then(function(_ref){var data=_ref.data;var results=data.Search;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{results:results});});});}};var handleInput=function handleInput(e){var s=e.target.value;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{s:s});});};var openPopup=function openPopup(id){axios(apiurl+\"&i=\"+id).then(function(_ref2){var data=_ref2.data;var result=data;setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{selected:result});});});};var closePopup=function closePopup(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{selected:{}});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Search for a Movie \"})}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(SearchComponent,{handleInput:handleInput,search:search}),/*#__PURE__*/_jsx(ResultsComponent,{results:state.results,openPopup:openPopup}),typeof state.selected.Title!=\"undefined\"?/*#__PURE__*/_jsx(PopupComponent,{selected:state.selected,closePopup:closePopup}):false]})]});}export default App;","map":{"version":3,"sources":["/Users/mihele/udemy/react-projects/movie-reviews/src/App.js"],"names":["React","useState","axios","SearchComponent","ResultsComponent","PopupComponent","App","s","results","selected","state","setState","apiurl","search","e","key","then","data","Search","prevState","handleInput","target","value","openPopup","id","result","closePopup","Title"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,+BAA7B,CACA,MAAOC,CAAAA,cAAP,KAA2B,6BAA3B,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACaL,QAAQ,CAAC,CACjCM,CAAC,CAAE,EAD8B,CAEjCC,OAAO,CAAE,EAFwB,CAGjCC,QAAQ,CAAE,EAHuB,CAAD,CADrB,wCACNC,KADM,eACCC,QADD,eAMb,GAAMC,CAAAA,MAAM,CAAG,yCAAf,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,CAAD,CAAO,CACpB,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuB,CACrBb,KAAK,CAACU,MAAM,CAAG,KAAT,CAAiBF,KAAK,CAACH,CAAxB,CAAL,CAAgCS,IAAhC,CAAqC,cAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CACjD,GAAIT,CAAAA,OAAO,CAAGS,IAAI,CAACC,MAAnB,CACAP,QAAQ,CAAC,SAAAQ,SAAS,CAAI,CACpB,sCAAYA,SAAZ,MAAuBX,OAAO,CAAEA,OAAhC,GACD,CAFO,CAAR,CAGD,CALD,EAMD,CACF,CATD,CAWA,GAAMY,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACN,CAAD,CAAO,CACzB,GAAIP,CAAAA,CAAC,CAAGO,CAAC,CAACO,MAAF,CAASC,KAAjB,CAEAX,QAAQ,CAAC,SAAAQ,SAAS,CAAI,CACpB,sCAAYA,SAAZ,MAAuBZ,CAAC,CAAEA,CAA1B,GACD,CAFO,CAAR,CAGD,CAND,CAQA,GAAMgB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,EAAE,CAAI,CACtBtB,KAAK,CAACU,MAAM,CAAG,KAAT,CAAiBY,EAAlB,CAAL,CAA2BR,IAA3B,CAAgC,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,CAC5C,GAAIQ,CAAAA,MAAM,CAAGR,IAAb,CAEAN,QAAQ,CAAC,SAAAQ,SAAS,CAAI,CACpB,sCAAYA,SAAZ,MAAuBV,QAAQ,CAAEgB,MAAjC,GACD,CAFO,CAAR,CAGD,CAND,EAOD,CARD,CAUA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBf,QAAQ,CAAC,SAAAQ,SAAS,CAAI,CACpB,sCAAYA,SAAZ,MAAuBV,QAAQ,CAAE,EAAjC,GACD,CAFO,CAAR,CAGD,CAJD,CAMA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,qCACE,2CADF,EADF,cAIE,qCACE,KAAC,eAAD,EAAiB,WAAW,CAAEW,WAA9B,CAA2C,MAAM,CAAEP,MAAnD,EADF,cAGE,KAAC,gBAAD,EAAkB,OAAO,CAAEH,KAAK,CAACF,OAAjC,CAA0C,SAAS,CAAEe,SAArD,EAHF,CAKI,MAAOb,CAAAA,KAAK,CAACD,QAAN,CAAekB,KAAtB,EAA+B,WAAhC,cAA+C,KAAC,cAAD,EAAgB,QAAQ,CAAEjB,KAAK,CAACD,QAAhC,CAA0C,UAAU,CAAEiB,UAAtD,EAA/C,CAAsH,KALzH,GAJF,GADF,CAcD,CAED,cAAepB,CAAAA,GAAf","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'axios'\n\nimport SearchComponent from './components/SearchComponent'\nimport ResultsComponent from './components/ResultsComponent'\nimport PopupComponent from './components/PopupComponent'\n\nfunction App() {\n  const [state, setState] = useState({\n    s: \"\",\n    results: [],\n    selected: {}\n  });\n  const apiurl = \"http://www.omdbapi.com/?apikey=dfe6d885\";\n\n  const search = (e) => {\n    if (e.key === \"Enter\") {\n      axios(apiurl + \"&s=\" + state.s).then(({ data }) => {\n        let results = data.Search;\n        setState(prevState => {\n          return { ...prevState, results: results }\n        })\n      });\n    }\n  }\n  \n  const handleInput = (e) => {\n    let s = e.target.value;\n\n    setState(prevState => {\n      return { ...prevState, s: s }\n    });\n  }\n\n  const openPopup = id => {\n    axios(apiurl + \"&i=\" + id).then(({ data }) => {\n      let result = data;\n\n      setState(prevState => {\n        return { ...prevState, selected: result }\n      });\n    });\n  }\n\n  const closePopup = () => {\n    setState(prevState => {\n      return { ...prevState, selected: {} }\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <h1>Search for a Movie </h1>\n      </header>\n      <main>\n        <SearchComponent handleInput={handleInput} search={search} />\n\n        <ResultsComponent results={state.results} openPopup={openPopup} />\n\n        {(typeof state.selected.Title != \"undefined\") ? <PopupComponent selected={state.selected} closePopup={closePopup} /> : false}\n      </main>\n    </div>\n  );\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}